{"ast":null,"code":"var _jsxFileName = \"/Users/sofiaramil/.Trash/final/online.shop/src/Pay.js\",\n  _s = $RefreshSig$();\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './Pay.css';\nimport { useStateValue } from './store/stateProvider';\nimport { db } from './config/firebase';\nimport axios from './config/axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Pay = () => {\n  _s();\n  const [{\n    cart,\n    user\n  }, dispatch] = useStateValue();\n  const history = useHistory();\n  const stripe = useStripe();\n  const elements = useElements();\n  const formDefaultValues = {\n    email: '',\n    name: '',\n    phone: '',\n    address: '',\n    city: '',\n    postcode: ''\n  };\n  const [formValues, setFormValues] = useState(formDefaultValues);\n  const {\n    email,\n    name,\n    phone,\n    city,\n    address,\n    postcode\n  } = formValues;\n  const [disabled, setDisabled] = useState(true);\n  const [total, setTotal] = useState(0);\n  const [disabledCard, setDisabledCard] = useState(true);\n  const [errorCard, setErrorCard] = useState(true);\n  const [succeededCard, setSucceededCard] = useState(false);\n  const [processingCard, setProcessing] = useState('');\n  const [clientSecret, setClientSecret] = useState('');\n  const formDefaultErrors = {\n    email: [],\n    name: [],\n    phone: [],\n    address: [],\n    city: [],\n    postcode: []\n  };\n  const [formErrors, setFormErrors] = useState(formDefaultErrors);\n  useEffect(() => {\n    const errorArr = Object.values(formErrors);\n    const isError = i => i.length > 0;\n    const formValuesExist = Object.values(formValues);\n    const isValues = i => i.length > 1;\n    if (errorArr.some(isError) || !formValuesExist.every(isValues)) {\n      setDisabled(true);\n    } else {\n      setDisabled(false);\n    }\n  }, [formValues, formErrors]);\n  useEffect(() => {\n    let totalAmount = 0;\n    for (let i = 0; i < cart.length; i++) {\n      totalAmount += cart[i].price * cart[i].amount;\n    }\n    setTotal(totalAmount);\n    const getClientSecret = async () => {\n      const response = await axios({\n        method: 'post',\n        url: `/payments/create?total=${totalAmount * 100}`\n      });\n      setClientSecret(response.data.clientSecret);\n    };\n    if (totalAmount > 0) {\n      try {\n        getClientSecret();\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }, [cart]);\n  const handleValidations = (target, validators) => {\n    validators.forEach(validation => {\n      const result = validation(target.value);\n      const errors = formErrors[target.name];\n      if (result.valid) {\n        if (errors.includes(result.message)) {\n          setFormErrors(prevState => ({\n            ...prevState,\n            [target.name]: errors.filter(error => error !== result.message)\n          }));\n        }\n      } else if (!errors.includes(result.message)) {\n        setFormErrors(prevState => ({\n          ...prevState,\n          [target.name]: [...errors, result.message]\n        }));\n      }\n    });\n  };\n  const handleChange = (e, validators) => {\n    const {\n      target\n    } = e;\n    setFormValues(prevState => ({\n      ...prevState,\n      [target.name]: target.value\n    }));\n    handleValidations(target, validators);\n  };\n  const noBlanks = value => ({\n    valid: value.replace(/\\s+/, '').length > 0,\n    message: 'cannot be blank'\n  });\n  const validatEmail = value => {\n    const pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n    return {\n      valid: pattern.test(String(value).toLowerCase()),\n      message: 'must be a valid email'\n    };\n  };\n  const handleChangeCard = e => {\n    setDisabledCard(e.empty);\n    setErrorCard(e.error ? e.error.message : '');\n  };\n  const proceedToStripe = async e => {\n    e.preventDefault();\n    setProcessing(true);\n    try {\n      await stripe.confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: elements.getElement(CardElement)\n        }\n      }).then(_ref => {\n        let {\n          paymentIntent\n        } = _ref;\n        db.collection('users').doc(user === null || user === void 0 ? void 0 : user.uid).collection('orders').doc(paymentIntent.id).set({\n          cart,\n          amount: paymentIntent.amount / 100,\n          created: paymentIntent.created\n        });\n      });\n    } catch (err) {\n      console.log(err);\n    }\n    setSucceededCard(true);\n    setErrorCard(null);\n    setProcessing(false);\n    dispatch({\n      type: 'EMPTY_CART'\n    });\n    history.replace('/orders');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pay-form\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"pay-form-label\",\n          htmlFor: \"email\",\n          children: [\"E-mail\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            className: \"pay-input\",\n            name: \"email\",\n            type: \"email\",\n            placeholder: \"Email\",\n            value: email,\n            onChange: e => handleChange(e, [noBlanks, validatEmail]),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), formErrors.email[0] ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pay-errors\",\n          children: formErrors.email[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 34\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"pay-form-label\",\n          htmlFor: \"phone\",\n          children: [\"\\u0418\\u043C\\u044F\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"phone\",\n            className: \"pay-input\",\n            name: \"name\",\n            type: \"name\",\n            placeholder: \"Name\",\n            onChange: e => handleChange(e, [noBlanks]),\n            value: name,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), formErrors.name[0] ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pay-errors\",\n          children: formErrors.name[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 33\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"pay-form-label\",\n          htmlFor: \"phone\",\n          children: [\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"phone\",\n            className: \"pay-input\",\n            name: \"phone\",\n            type: \"phone\",\n            placeholder: \"Phone\",\n            onChange: e => handleChange(e, [noBlanks]),\n            value: phone,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), formErrors.phone[0] ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pay-errors\",\n          children: formErrors.phone[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 34\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"pay-form-label\",\n          htmlFor: \"address\",\n          children: [\"\\u0410\\u0434\\u0440\\u0435\\u0441\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"address\",\n            className: \"pay-input\",\n            name: \"address\",\n            type: \"address\",\n            placeholder: \"Delivery address\",\n            onChange: e => handleChange(e, [noBlanks]),\n            value: address,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), formErrors.address[0] ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pay-errors\",\n          children: formErrors.address[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"pay-form-label\",\n          htmlFor: \"postcode\",\n          children: [\"\\u041F\\u043E\\u0447\\u0442\\u043E\\u0432\\u044B\\u0439 \\u0438\\u043D\\u0434\\u0435\\u043A\\u0441\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"postcode\",\n            className: \"pay-input\",\n            name: \"postcode\",\n            type: \"postcode\",\n            placeholder: \"Postcode\",\n            onChange: e => handleChange(e, [noBlanks]),\n            value: postcode,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), formErrors.postcode[0] ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pay-errors\",\n          children: formErrors.postcode[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"pay-form-label\",\n          htmlFor: \"city\",\n          children: [\"City\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"city\",\n            className: \"pay-input\",\n            name: \"city\",\n            type: \"city\",\n            placeholder: \"City\",\n            onChange: e => handleChange(e, [noBlanks]),\n            value: city,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), formErrors.city[0] ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pay-errors\",\n          children: formErrors.city[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 33\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stripe-element\",\n          children: [/*#__PURE__*/_jsxDEV(CardElement, {\n            name: \"card\",\n            onChange: e => handleChangeCard(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: processingCard ? /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u041E\\u0431\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 37\n            }, this) : ' '\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), errorCard && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pay-errors\",\n            children: errorCard\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), !user ? /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0437\\u0430\\u043B\\u043E\\u0433\\u0438\\u043D\\u044C\\u0442\\u0435\\u0441\\u044C \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0435\\u043D\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 20\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: disabled || disabledCard || processingCard || succeededCard || !user,\n          className: \"pay-button\",\n          onClick: e => proceedToStripe(e),\n          type: \"submit\",\n          children: \"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pay-summary-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delivery-address\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Delivery Address: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: postcode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: city\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products-to-deliver-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u041F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u044B, \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0435 \\u043D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-pay-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"image-pay-summary\",\n            src: item === null || item === void 0 ? void 0 : item.image,\n            alt: \"product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: item === null || item === void 0 ? void 0 : item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"items\",\n              children: `${item === null || item === void 0 ? void 0 : item.price}$ x ${item === null || item === void 0 ? void 0 : item.amount}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this)]\n        }, item.price + item.title, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"total\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0429 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"items\",\n          children: `${total}$`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n_s(Pay, \"yRpZ4Jm/VPHGodY+B1BClY5wZyk=\", false, function () {\n  return [useStateValue, useHistory, useStripe, useElements];\n});\n_c = Pay;\nexport default Pay;\nvar _c;\n$RefreshReg$(_c, \"Pay\");","map":{"version":3,"names":["CardElement","useStripe","useElements","React","useState","useEffect","useHistory","useStateValue","db","axios","Pay","cart","user","dispatch","history","stripe","elements","formDefaultValues","email","name","phone","address","city","postcode","formValues","setFormValues","disabled","setDisabled","total","setTotal","disabledCard","setDisabledCard","errorCard","setErrorCard","succeededCard","setSucceededCard","processingCard","setProcessing","clientSecret","setClientSecret","formDefaultErrors","formErrors","setFormErrors","errorArr","Object","values","isError","i","length","formValuesExist","isValues","some","every","totalAmount","price","amount","getClientSecret","response","method","url","data","err","console","log","handleValidations","target","validators","forEach","validation","result","value","errors","valid","includes","message","prevState","filter","error","handleChange","e","noBlanks","replace","validatEmail","pattern","RegExp","test","String","toLowerCase","handleChangeCard","empty","proceedToStripe","preventDefault","confirmCardPayment","payment_method","card","getElement","then","paymentIntent","collection","doc","uid","id","set","created","type","map","item","image","title"],"sources":["/Users/sofiaramil/.Trash/final/online.shop/src/Pay.js"],"sourcesContent":["import { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './Pay.css';\nimport { useStateValue } from './store/stateProvider';\nimport { db } from './config/firebase';\nimport axios from './config/axios';\n\nconst Pay = () => {\n  const [{ cart, user }, dispatch] = useStateValue();\n  const history = useHistory();\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const formDefaultValues = {\n    email: '',\n    name: '',\n    phone: '',\n    address: '',\n    city: '',\n    postcode: ''\n  };\n  const [formValues, setFormValues] = useState(formDefaultValues);\n\n  const { email, name, phone, city, address, postcode } = formValues;\n  const [disabled, setDisabled] = useState(true);\n  const [total, setTotal] = useState(0);\n  const [disabledCard, setDisabledCard] = useState(true);\n  const [errorCard, setErrorCard] = useState(true);\n  const [succeededCard, setSucceededCard] = useState(false);\n  const [processingCard, setProcessing] = useState('');\n  const [clientSecret, setClientSecret] = useState('');\n\n  const formDefaultErrors = {\n    email: [],\n    name: [],\n    phone: [],\n    address: [],\n    city: [],\n    postcode: []\n  };\n  const [formErrors, setFormErrors] = useState(formDefaultErrors);\n\n  useEffect(() => {\n    const errorArr = Object.values(formErrors);\n    const isError = (i) => i.length > 0;\n    const formValuesExist = Object.values(formValues);\n    const isValues = (i) => i.length > 1;\n    if (errorArr.some(isError) || !formValuesExist.every(isValues)) {\n      setDisabled(true);\n    } else {\n      setDisabled(false);\n    }\n  }, [formValues, formErrors]);\n\n  useEffect(() => {\n    let totalAmount = 0;\n    for (let i = 0; i < cart.length; i++) {\n      totalAmount += cart[i].price * cart[i].amount;\n    }\n    setTotal(totalAmount);\n\n    const getClientSecret = async () => {\n      const response = await axios({\n        method: 'post',\n        url: `/payments/create?total=${totalAmount * 100}`\n      });\n      setClientSecret(response.data.clientSecret);\n    };\n    if (totalAmount > 0) {\n      try {\n        getClientSecret();\n      } catch (err) {\n       \n        console.log(err);\n      }\n    }\n  }, [cart]);\n\n  const handleValidations = (target, validators) => {\n    validators.forEach((validation) => {\n      const result = validation(target.value);\n      const errors = formErrors[target.name];\n      if (result.valid) {\n        if (errors.includes(result.message)) {\n          setFormErrors((prevState) => ({\n            ...prevState,\n            [target.name]: errors.filter((error) => error !== result.message)\n          }));\n        }\n      } else if (!errors.includes(result.message)) {\n        setFormErrors((prevState) => ({\n          ...prevState,\n          [target.name]: [...errors, result.message]\n        }));\n      }\n    });\n  };\n\n  const handleChange = (e, validators) => {\n    const { target } = e;\n    setFormValues((prevState) => ({\n      ...prevState,\n      [target.name]: target.value\n    }));\n\n    handleValidations(target, validators);\n  };\n\n  const noBlanks = (value) => ({\n    valid: value.replace(/\\s+/, '').length > 0,\n    message: 'cannot be blank'\n  });\n\n  const validatEmail = (value) => {\n    const pattern = new RegExp(\n      /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i\n    );\n    return {\n      valid: pattern.test(String(value).toLowerCase()),\n      message: 'must be a valid email'\n    };\n  };\n\n  const handleChangeCard = (e) => {\n    setDisabledCard(e.empty);\n    setErrorCard(e.error ? e.error.message : '');\n  };\n  const proceedToStripe = async (e) => {\n    e.preventDefault();\n    setProcessing(true);\n    try {\n      await stripe\n        .confirmCardPayment(clientSecret, {\n          payment_method: {\n            card: elements.getElement(CardElement)\n          }\n        })\n\n        .then(({ paymentIntent }) => {\n          db.collection('users')\n            .doc(user?.uid)\n            .collection('orders')\n            .doc(paymentIntent.id)\n            .set({\n              cart,\n              amount: paymentIntent.amount / 100,\n              created: paymentIntent.created\n            });\n        });\n    } catch (err) {\n    \n      console.log(err);\n    }\n    setSucceededCard(true);\n    setErrorCard(null);\n    setProcessing(false);\n\n    dispatch({\n      type: 'EMPTY_CART'\n    });\n\n    history.replace('/orders');\n  };\n\n  return (\n    <div className=\"payment-wrapper\">\n      <div className=\"pay-form\">\n        <form onSubmit={(e) => e.preventDefault()}>\n          <label className=\"pay-form-label\" htmlFor=\"email\">\n            E-mail\n            <input\n              id=\"email\"\n              className=\"pay-input\"\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={(e) => handleChange(e, [noBlanks, validatEmail])}\n              required\n            />\n          </label>\n          {formErrors.email[0] ? <span className=\"pay-errors\">{formErrors.email[0]}</span> : null}\n          <label className=\"pay-form-label\" htmlFor=\"phone\">\n            Имя\n            <input\n              id=\"phone\"\n              className=\"pay-input\"\n              name=\"name\"\n              type=\"name\"\n              placeholder=\"Name\"\n              onChange={(e) => handleChange(e, [noBlanks])}\n              value={name}\n              required\n            />\n          </label>\n          {formErrors.name[0] ? <span className=\"pay-errors\">{formErrors.name[0]}</span> : null}\n          <label className=\"pay-form-label\" htmlFor=\"phone\">\n            Телефон\n            <input\n              id=\"phone\"\n              className=\"pay-input\"\n              name=\"phone\"\n              type=\"phone\"\n              placeholder=\"Phone\"\n              onChange={(e) => handleChange(e, [noBlanks])}\n              value={phone}\n              required\n            />\n          </label>\n          {formErrors.phone[0] ? <span className=\"pay-errors\">{formErrors.phone[0]}</span> : null}\n          <label className=\"pay-form-label\" htmlFor=\"address\">\n            Адрес\n            <input\n              id=\"address\"\n              className=\"pay-input\"\n              name=\"address\"\n              type=\"address\"\n              placeholder=\"Delivery address\"\n              onChange={(e) => handleChange(e, [noBlanks])}\n              value={address}\n              required\n            />\n          </label>\n          {formErrors.address[0] ? (\n            <span className=\"pay-errors\">{formErrors.address[0]}</span>\n          ) : null}\n          <label className=\"pay-form-label\" htmlFor=\"postcode\">\n          Почтовый индекс\n            <input\n              id=\"postcode\"\n              className=\"pay-input\"\n              name=\"postcode\"\n              type=\"postcode\"\n              placeholder=\"Postcode\"\n              onChange={(e) => handleChange(e, [noBlanks])}\n              value={postcode}\n              required\n            />\n          </label>\n          {formErrors.postcode[0] ? (\n            <span className=\"pay-errors\">{formErrors.postcode[0]}</span>\n          ) : null}\n          <label className=\"pay-form-label\" htmlFor=\"city\">\n            City\n            <input\n              id=\"city\"\n              className=\"pay-input\"\n              name=\"city\"\n              type=\"city\"\n              placeholder=\"City\"\n              onChange={(e) => handleChange(e, [noBlanks])}\n              value={city}\n              required\n            />\n          </label>\n          {formErrors.city[0] ? <span className=\"pay-errors\">{formErrors.city[0]}</span> : null}\n          <div className=\"stripe-element\">\n            <CardElement name=\"card\" onChange={(e) => handleChangeCard(e)} />\n            <span>{processingCard ? <p>Обработка</p> : ' '}</span>\n            {errorCard && <div className=\"pay-errors\">{errorCard}</div>}\n          </div>\n          {!user ? <h3>Пожалуйста, залогиньтесь для продолжения</h3> : null}\n          <button\n            disabled={disabled || disabledCard || processingCard || succeededCard || !user}\n            className=\"pay-button\"\n            onClick={(e) => proceedToStripe(e)}\n            type=\"submit\"\n          >\n           Оплатить\n          </button>\n        </form>\n      </div>\n\n      <div className=\"pay-summary-wrapper\">\n        <div className=\"delivery-address\">\n          <h3>Delivery Address: </h3>\n          <p>{address}</p>\n          <p>{postcode}</p>\n          <p>{city}</p>\n          <p>{name}</p>\n          <p>{phone}</p>\n          <p>{email}</p>\n        </div>\n        <div className=\"products-to-deliver-wrapper\">\n          <h3>Продукты, которые необходимо доставить: </h3>\n          {cart.map((item) => (\n            <div className=\"product-pay-wrapper\" key={item.price + item.title}>\n              <img className=\"image-pay-summary\" src={item?.image} alt=\"product\" />\n              <div>\n                <p>{item?.title}</p>\n\n                <p className=\"items\">{`${item?.price}$ x ${item?.amount}`}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"total\">\n          <h3>Щ </h3>\n          <p className=\"items\">{`${total}$`}</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Pay;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}